(function(n,t){"use strict";(function(t){typeof define=="function"&&define.amd?define("ko.plus",["jquery","knockout"],t):t(n.jQuery,n.ko)})(function(n,i){(function(n,t){function i(t,i,r){var u=n.Deferred();return t?u.resolveWith(r,[i]):u.rejectWith(r,[i]),u}t.command=function(n){if(typeof n=="function"&&(n={action:n}),!n)throw"No options were specified";if(!n.action)throw"No action was specified in the options";var f=t.observable(!1),e=t.observable(),o=t.observable(""),s=t.observable(!1),u={done:[],fail:[function(){e(!0)}],always:[function(){f(!1)}]},r=function(){if(!c.call(n.context||this))return i(!1,null,n.context||this).promise();f(!0);e(!1);o("");var t;try{t=n.action.apply(n.context||this,arguments);t&&t.done&&t.always&&t.fail||(t=i(!0,t,n.context||this).promise())}catch(r){t=i(!1,r,n.context||this).promise()}return t.always(u.always,function(){s(!0)}).fail(u.fail).done(u.done),t},h=t.observable(),c=n.canExecute||function(){return!0},l=t.computed({deferEvaluation:!0,read:function(){return h(),!f()&&c.call(n.context||this)}},n.context||this),a=function(){h.notifySubscribers()},v=function(n){return u.done.push(n),r},y=function(n){return u.fail.push(function(){var t=n.apply(this,arguments);t&&o(t)}),r},p=function(n){return u.always.push(n),r};return n.done&&u.done.push(n.done),n.fail&&u.fail.push(n.fail),r.isRunning=f,r.canExecute=l,r.canExecuteHasMutated=a,r.done=v,r.fail=y,r.failMessage=o,r.always=p,r.failed=e,r.completed=s,r};t.bindingHandlers.command={init:function(n,i,r){var u=t.utils.unwrapObservable(i());t.bindingHandlers.loadingWhen.init.call(this,n,u.isRunning,r);t.bindingHandlers.click.init.call(this,n,t.observable(u),r)},update:function(n,i,r){var u=t.utils.unwrapObservable(i());t.bindingHandlers.loadingWhen.update.call(this,n,u.isRunning,r);t.bindingHandlers.enable.update.call(this,n,u.canExecute,r)}}})(jQuery,i),function(n){function r(i,r){var f=[],u;return r=r||function(n){return n()},i.isEditing=n.observable(!1),i.beginEdit=function(){i.isEditing()||(u=t,f.push(r(i)),i.isEditing(!0))},i.endEdit=function(){i.isEditing()&&i.isEditing(!1)},i.cancelEdit=function(){i.isEditing()&&f.length&&(u=r(i),i(f.pop()),i.isEditing(!1))},i.undoCancel=function(){if(u!==t){var n=u;i.beginEdit();i(n);u=t}},i.rollback=function(){f.length&&(u=t,i(f.pop()))},i}n.editable=function(t){return r(n.observable(t))};n.editableArray=function(t){return r(n.observableArray(t||[]),function(n){return n.slice()})};var i=function(t,i){var e,f,r,u;for(e in t)if(t.hasOwnProperty(e)&&(f=t[e],f&&f.isEditing&&i(f),r=n.utils.unwrapObservable(f),r&&r.length))for(u=0;u<r.length;u++)r[u]&&r[u].isEditing&&i(r[u])};n.editable.makeEditable=function(t){if(!t)throw"Target must be specified";t.isEditing=n.observable(!1);t.beginEdit=function(){(!t.isEditable||t.isEditable())&&(i(t,function(n){n.beginEdit()}),t.isEditing(!0))};t.endEdit=function(){i(t,function(n){n.endEdit()});t.isEditing(!1)};t.cancelEdit=function(){i(t,function(n){n.cancelEdit()});t.isEditing(!1)};t.rollback=function(){i(t,function(n){n.rollback()})};t.undoCancel=function(){i(t,function(n){n.undoCancel()});t.beginEdit()}}}(i),function(n,t){t.bindingHandlers.loadingWhen={init:function(i,r,u){var o=t.utils.unwrapObservable(u()).loaderClass||"loader-white",f=n(i),e=f.css("position"),s=n("<div>",{"class":o}).addClass("loader").hide();f.append(s);(e==="auto"||e==="static")&&f.css("position","relative")},update:function(i,r){var o=t.utils.unwrapObservable(r()),u=n(i),f=u.children(":not(div.loader)"),e=u.find("div.loader");o?(f.css("visibility","hidden").attr("disabled","disabled"),e.show()):(e.fadeOut("fast"),f.css("visibility","visible").removeAttr("disabled"))}}}(jQuery,i)})})(window);
/*
//# sourceMappingURL=ko.plus.min.js.map
*/