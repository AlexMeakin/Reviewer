var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},ViewModels;(function(n){var t=function(t){function i(i,r,u,f,e,o,s){t.call(this,i),this.CopyElement=$("#CopyVacanciesViewModel")[0],this.CopyViewModel=ko.observable(new n.CopyVacanciesViewModel(r,o,this.CopyElement)),this.CopyViewModel().OnCopy=this.cb_Search,this.FillElement=$("#FillVacanciesViewModel")[0],this.FillViewModel=ko.observable(new n.FillVacanciesViewModel(u,f,this.FillElement)),this.FillViewModel().OnFill=this.cb_Search,this.SanctionElement=$("#SanctionVacancyViewModel")[0],this.SanctionViewModel=ko.observable(new n.SanctionVacancyViewModel(e,o,this.SanctionElement)),this.SanctionViewModel().OnSanction=this.cb_Search,this.DeleteElement=$("#DeleteVacancyViewModel")[0],this.DeleteViewModel=ko.observable(new n.DeleteVacancyViewModel(s,this.DeleteElement)),this.DeleteViewModel().OnDelete=this.cb_Search,this.CanDoCopy=ko.computed(this.cb_ComputeCanDoCopy),this.CanDoFill=ko.computed(this.cb_ComputeCanDoFill),this.CanDoSanction=ko.computed(this.cb_ComputeCanDoSanction),this.CanDoEdit=ko.computed(this.cb_ComputeCanDoEdit),this.CanDoDelete=ko.computed(this.cb_ComputeCanDoDelete),this.VacancyUri=o}return __extends(i,t),i.prototype.ComputeCanDoCopy=function(){var n=Enumerable.From(this.Results()).Count(function(n){return n.IsSelected()==!0});return n>0?!0:!1},i.prototype.cb_ComputeCanDoCopy=function(){return this.ComputeCanDoCopy()},i.prototype.ComputeCanDoFill=function(){var n=Enumerable.From(this.Results()).Where(function(n){return n.IsSelected()==!0}).ToArray();return n.length==1&&n[0].Status=="Sanctioned"?!0:!1},i.prototype.cb_ComputeCanDoFill=function(){return this.ComputeCanDoFill()},i.prototype.ComputeCanDoEdit=function(){var n=Enumerable.From(this.Results()).Count(function(n){return n.IsSelected()==!0});return n==1?!0:!1},i.prototype.cb_ComputeCanDoEdit=function(){return this.ComputeCanDoEdit()},i.prototype.ComputeCanDoDelete=function(){var n=Enumerable.From(this.Results()).Count(function(n){return n.IsSelected()==!0});return n==1?!0:!1},i.prototype.cb_ComputeCanDoDelete=function(){return this.ComputeCanDoDelete()},i.prototype.ComputeCanDoSanction=function(){var n=Enumerable.From(this.Results()).Where(function(n){return n.IsSelected()==!0}).ToArray();return n.length==1&&n[0].Status=="Unsanctioned"?!0:!1},i.prototype.cb_ComputeCanDoSanction=function(){return this.ComputeCanDoSanction()},i.prototype.Copy=function(){if(this.CanDoCopy.peek()){var n=Enumerable.From(this.Results()).Where(function(n){return n.IsSelected()==!0}).ToArray();Enumerable.From(n).ForEach(function(n){return n.CopyResult=new ko.observable("")}),this.CopyViewModel().Vacancies(n),$(this.CopyElement).modal()}},i.prototype.cb_Copy=function(){this.Copy()},i.prototype.Fill=function(){if(this.CanDoFill.peek()){var n=Enumerable.From(this.Results()).Where(function(n){return n.IsSelected()==!0}).ToArray();this.FillViewModel().Clear(),this.FillViewModel().Vacancy(n[0]),$(this.FillElement).modal().css({width:"auto","margin-left":function(){return-($(this).width()/2)}})}},i.prototype.cb_Fill=function(){this.Fill()},i.prototype.Sanction=function(){if(this.CanDoSanction.peek()){var n=Enumerable.From(this.Results()).Where(function(n){return n.IsSelected()==!0}).ToArray();Enumerable.From(n).ForEach(function(n){return n.SanctionResult=new ko.observable("")}),this.SanctionViewModel().Clear(),this.SanctionViewModel().Vacancies(n),$(this.SanctionElement).modal()}},i.prototype.cb_Sanction=function(){this.Sanction()},i.prototype.Edit=function(){if(this.CanDoEdit.peek()){var n=Enumerable.From(this.Results()).Where(function(n){return n.IsSelected()==!0}).First();window.location=this.VacancyUri.format(n.VacancyId)}},i.prototype.cb_Edit=function(){this.Edit()},i.prototype.Delete=function(){if(this.CanDoDelete.peek()){var n=Enumerable.From(this.Results()).Where(function(n){return n.IsSelected()==!0}).First();this.DeleteViewModel().Vacancy(n),$(this.DeleteElement).modal()}},i.prototype.cb_Delete=function(){this.Delete()},i.prototype.OnResponse=function(n){Enumerable.From(n.Results).ForEach(function(n){n.IsSelected=ko.observable(!1)}),t.prototype.OnResponse.call(this,n)},i}(n.SearchViewModel);n.ViewVacanciesViewModel=t})(ViewModels||(ViewModels={}))