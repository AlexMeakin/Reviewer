var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype,n.prototype=new r},ViewModels;(function(n){var t=function(n){function t(){var t=this;n.call(this),this.IsLoading=ko.observable(!1),this.SelectedOrgUnit=ko.observable({}),this.OrganizationalUnits=ko.observableArray(),this.OrganizationalBusinessUnits=ko.observableArray(),this.RemovingOrgUnit=ko.observable(""),this.CanAddOrgUnit=ko.computed(function(){var n=t.SelectedOrgUnit().EntityId,i;return n==null?!1:(i=Enumerable.From(t.OrganizationalBusinessUnits()).Any(function(t){return t.EntityId==n}),i)?!1:!0})}return __extends(t,n),t.prototype.Populate=function(n){var t=$.parseJSON(n),r=Enumerable.From(t.AllOrgUnits).Where(function(n){return n.IsBusinessUnit==!1}).ToArray(),i;this.OrganizationalUnits(r),i=Enumerable.From(t.AllOrgUnits).Where(function(n){return n.IsBusinessUnit==!0}).ToArray(),this.OrganizationalBusinessUnits(i)},t.prototype.SetIsBusinessUnit=function(){var n=this,t={orgUnitId:this.SelectedOrgUnit().EntityId};this.IsLoading(!0),$.post(this.SetOrgUnitToBusinessunitUri,t,function(t){t.Success==!0?n.OrganizationalBusinessUnits.push({EntityId:n.SelectedOrgUnit().EntityId,OrgTitle:n.SelectedOrgUnit().Name}):alert(t.Message),n.IsLoading(!1)},"JSON")},t.prototype.UnSetBusinessUnit=function(n){var t=this,i={orgUnitId:n.EntityId};this.IsLoading(!0),$.post(this.UnSetOrgUnitFromBusinessUnitsUri,i,function(i){i.Success==!0?(t.OrganizationalBusinessUnits.remove(n),t.OrganizationalUnits.push(n)):alert(i.Message),t.IsLoading(!1)},"JSON")},t.prototype.OnOrgUnitSelected=function(n){this.SelectedOrgUnit(n)},t.prototype.cb_OnOrgUnitSelected=function(n){this.OnOrgUnitSelected(n)},t}(HasCallbacks);n.OrgUnitManagementViewModel=t})(ViewModels||(ViewModels={}))