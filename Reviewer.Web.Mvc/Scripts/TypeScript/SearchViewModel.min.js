var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype,n.prototype=new r},ViewModels;(function(n){var t=function(n){function t(t){n.call(this),this.PageSpan=6,this.SearchUri=t,this.Results=ko.observableArray(),this.Page=ko.observable(0),this.PageSize=ko.observable(20),this.TotalPages=ko.observable(0),this.TotalResults=ko.observable(0),this.IsLoading=ko.observable(!1),this.PagerArray=ko.computed(this.cb_ComputePagerArray)}return __extends(t,n),t.prototype.Search=function(n){var t=this;n==null&&(n={}),n.Page=this.Page(),n.PageSize=this.PageSize(),this.IsLoading(!0),$.get(this.SearchUri,n,function(n){t.OnResponse(n),t.IsLoading(!1)})},t.prototype.cb_Search=function(){this.Search({})},t.prototype.OnResponse=function(n){this.Page(n.Page),this.PageSize(n.PageSize),this.TotalPages(n.TotalPages),this.TotalResults(n.TotalResults),this.Results(n.Results),this.OnSearchComplete&&this.OnSearchComplete()},t.prototype.ChangePage=function(n){n==this.Page()||n<0||n>this.TotalPages()||(this.Page(n),this.Search({}))},t.prototype.ComputePagerArray=function(){var i=this.Page(),r=Math.max(0,i-this.PageSpan/2),n=i-r,t;n<this.PageSpan&&(n=this.PageSpan-n);var f=this.TotalPages(),e=Math.min(i+n,f),u=[];for(t=r;t<=e;t++)u.push(t);return u},t.prototype.cb_ComputePagerArray=function(){return this.ComputePagerArray()},t}(HasCallbacks);n.SearchViewModel=t})(ViewModels||(ViewModels={}))