var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype,n.prototype=new r},ViewModels;(function(n){var t=function(n){function t(t,i,r){var u=this;n.call(this,t),this.FillUri=i,this.ResourceId=r.ResourceId,this.FirstName=r.FirstName,this.LastName=r.LastName,this.BRID=r.BRID,this.StaffNumber=r.StaffNumber,this.ResourceName=ko.computed(function(){return u.LastName+", "+u.FirstName}),this.Vacancy=ko.observable({}),this.ActualStartDate=ko.observable(new Date),this.IsFilling=ko.observable(!1),this.CanFill=ko.computed(this.cb_ComputeCanFill)}return __extends(t,n),t.prototype.Fill=function(){var t=this,n;this.IsFilling(!0),n={vacancyId:this.Vacancy().VacancyId,resourceId:this.ResourceId,firstName:this.FirstName,lastName:this.LastName,BRID:this.BRID,StaffNumber:this.StaffNumber,ActualStartDate:this.ActualStartDate()},$.ajax({type:"POST",url:this.FillUri,data:n,dataType:"json",traditional:!0,success:function(n){t.IsFilling(!1),n.Success?(alert("This vacancy has been filled."),location.href=document.referrer):alert(n.Message)}})},t.prototype.cb_Fill=function(){this.Fill()},t.prototype.ComputeCanFill=function(){return this.IsFilling()?!1:this.Vacancy()==null?!1:this.Vacancy().VacancyId==null?!1:this.ActualStartDate()==null?!1:!0},t.prototype.cb_ComputeCanFill=function(){return this.ComputeCanFill()},t.prototype.SelectVacancy=function(n){this.Vacancy(n)},t.prototype.cb_SelectVacancy=function(n){this.SelectVacancy(n)},t.prototype.Search=function(t){t==null&&(t={}),t.OnlyFillable=!0,n.prototype.Search.call(this,t)},t}(n.SearchViewModel);n.FillResourceViewModel=t})(ViewModels||(ViewModels={}))